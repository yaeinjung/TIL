# 크롤링

#### 지난수업, 셔플함수과제

하나의 지식에 대해서 서로 다른 분야에서 어떻게 쓰이는지에 대한 맥락을 알면 좋다!

* 리스트 복사하기

  ```
  result = data[ : ] # result => 복사될 리스트 data => 복사할 리스트
  ```

* data를 데이터 갯수만큼 샘플링해서 임의로 가져오는 방법. 한 번 뽑으면 다시 뽑히지 않음

  ```
  random.sample(data, len(data))
  ```

* 이름을 안붙여줘도 모든 의도가 명확히 드러날 만큼 간결하게 짜는게 중요하다

* 파이썬의 함수이름은 소문자와 _의 조합으로 쓰는게 좋다

* 파이썬은 대소문자를 구분하는 언어 (= Case Sensitive 언어 )



### 인터넷, 웹, 웹브라우저, HTML 개념정리

간단한 개념정리!

* 인터넷 (Internet) 네트워크들의 네트워크

* 웹 : HTTP 프로토콜(일종의 약속, 통신규약)을 이용해서 통신하는 컴퓨터들의 네트워크

  * URL  https://www.google.com/search?q=test -> https 포트를 써서 google 컴퓨터에 접근, search어쩌고저쩌고 수행

  * Hyperlink : 텍스트중에 링크가 있는 텍스트
  * Hypertext : 하이퍼링크가 담겨져 있는 텍스트 (ex. 구글 검색화면) 
  * HTML : 하이퍼텍스트를 작성하기 위한 언어 중 하나



### 데이터 가져오기

```
from urllib import request # import urllib.request

url = "https://www.naver.com"
with request.urlopen(url) as f: 
  html = f.read().decode('utf-8') 
  print(html)
```

어떤 자원은 알아서 수거해가지 않는 경우가 있다.(가비지컬렉터가x) 채널을 열었으면 다 쓰면 닫아야 함. 

* `with`  request.urlopen(url) `as`  f `:`   =>  request.urlopen(url)에서 만든 자원을 f에 할당하고 다 쓴 다음에는 자원을 해제하기 위해 쓰인다.

아무리 서로 다른 자원이라고 하더라도 file에다가 씀. 프린터건 모니터건 모두 file로 처리

* html = f.`read()`.`decode('utf-8')`  
  * `read()` : http 리퀘스트를 보내고 응답으로 받은것을 읽어온다. 그 응답은 바이트로 온다. 
  * 바이트를 스트링으로 디코딩해주는 것은 `decode()`
* 파이썬 라이브러리는 패키지를 모아놓은것
* urllib는 패키지(디렉토리), request는 모듈. 모듈 안에는 함수들이 있다.
* numpy, pandas는 모두 파이썬 외부라이브러리



### 저작권과 직업윤리

직업윤리

* 부당한 차별 : 차별적 발언을 한 의도는 중요하지 않고 결과가 중요하다.(?) 동일한 발언이라 하더라도 사회역사적 맥락이 중요하다. 같은 발언이라도 어떤사회에 어떤역사의 어떤 맥락에서 하면 부당한 차별이 되는지.

저작권

* 우리가 만드는 코드에도 저작권이 있고, 코드 실행결과 나오는 데이터, 프로그램으로 가공해서 파생된 데이터의 저작권도 중요하다.

* 별도로 라이선스에 대한 설명이 없으면 저작자에게 물어보아야 한다. 이 데이터를 이러이러한 용도로 쓰려고 하는데 써도 되겠는가 허락을 맡아야 한다. 

* 거의 모든 컨텐츠에는 어딘가 보면 저작권 관련 문구가 있다.

* 저작권표시 참고 <http://cckorea.org/xe/elements>

* 로봇배제프로토콜 -> 누군가 크롤러를 만들어서 데이터를 긁어가려고 하면 여기를 참고하세요라는 의도로 만들어진것

  ```
  User-agent: *  # 모든 유저에이전트는
  Disallow: /  # 루트디렉토리부터 모두 불허용
  ```

  청와대 사이트는 허용가능하게 해놓았음

### 마크업 

기존문서에 부가적 정보를 기입하는것

* markup language 컴퓨터에서 마크업할때 쓰는 언어 (ex. 마크다운)

#### HTML

* 하이퍼텍스트언어
* 마크업에서 마크업의 시작과 끝을 알리는 부분이 필요하다.
* 마크업에서 본문과 겹치지 않게 쓰이는것이 중요하다.
* 이스케이프 문자
  *  &lt; _& lt;_ 
  * &amp;  _& amp;_
* 태그는 여는 태그가 있고 닫는 태그가 있다.
* <html> <head> <== 여는 태그라고 부른다 .
* </head></html> <=== 닫는 태그라고 부른다.
* 여는태그와 닫는태그 안에 태그의 자식들(children)이 들어있다.
* html css 버전 지원에 대해 확인하는 사이트 <http://caniuse.com>
* _html 소스코드를 긁어서 다른사람이 쓰면 그건 저작권으로 인정이 되어 위법인가?_
  * html이 저작물로 되는것 보다는 그 안에 내용이 저작물이 되어서 저작권법 위반이 된다.
* 기계가 html 문서를 해석하는것을 `파싱(parsing)`이라고 한다.
* html 나무모양을 `html DOM`이라고 한다.



동적사이트를 파싱할때는 실제 브라우저를 긁어내는 툴같은걸 써서 파싱해야 한다.